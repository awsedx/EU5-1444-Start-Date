# FLAG_DEFINITION_LIST = {		# countries search for a list with the same name as their tag, the DEFAULT list is always included, if no flag definition is applicable for a country then its tag is used a COA_KEY
# 	includes = ANOTHER_LIST		# includes another list in this list, can be repeated
#
# 	flag_definition = {			# the flag definitions that make up this list, can be repeated
# 		coa = [list] COA_KEY	# main flag, optional list keyword denotes a coa template
# 		allow_overlord_canton = yes				# default no
# 		coa_with_overlord_canton = <[list] coa>	# flag where a canton can be placed, optional list keyword same as above, defaults to coa
# 		overlord_canton_offset = { x y }		# canton placement offset, default { 0 0 }
# 		overlord_canton_scale = { x y }			# canton placement scale, default { 0.5 0.5 }
# 		subject_canton = [list] COA_KEY	# canton applied to subjects by this country, optional list keyword same as above
#
# 		priority = value		# valid flag definition with the highest priority applies
# 		trigger = {}			# a trigger that determines if this flag definition is valid, see below for scope
#       allow_revolutionary_indicator = no      # Default = yes. If yes, a temporary revolutionary indicator will appear while the country is revolutionary
#       revolutionary_canton = [list] COA_KEY   # Optional. Default = default_revolutionary_canton. Defines which flag should be used as canton while this country is revolutionary
# 	}
# }
# revolutionary is not in use for the moment.

#            | existing country | releasing a country | country formation |
# |==========|==================|=====================|===================|
# |root      | definition       | definition          | definition        |
# |----------|------------------|---------------------|-------------------|
# |target    | country          | N/A                 | N/A               |
# |----------|------------------|---------------------|-------------------|
# |initiator | N/A              | player              | player            |
# |----------|------------------|---------------------|-------------------|
# |actor     | country          | player              | player            |
# |----------|------------------|---------------------|-------------------|
# |          | country's        |                     | player's          |
# |overlord  | direct overlord  | player              | direct overlord   |
# |          | if it exists     |                     | if it exists      |
# |----------|------------------|---------------------|-------------------|

# common variables
@coa_width = 768
@coa_height = 512
@canton_scale_cross_x = @[ ( 333 / coa_width ) + 0.001 ]
@canton_scale_cross_y = @[ ( 205 / coa_height ) + 0.001 ]
@canton_scale_sweden_x = @[ ( 255 / coa_width ) + 0.001 ]
@canton_scale_sweden_y = @[ ( 204 / coa_height ) + 0.001 ]
@canton_scale_norway_x = @[ ( 192 / coa_width ) + 0.001 ]
@canton_scale_norway_y = @[ ( 192 / coa_height ) + 0.001 ]
@canton_scale_denmark_x = @[ ( 220 / coa_width ) + 0.001 ]
@canton_scale_denmark_y = @[ ( 220 / coa_height ) + 0.001 ]
@third = @[1/3]
@usa_canton_width = 0.5
@usa_canton_height = @[ 1 / 13 * 7 ]

# Age triggers :
# 1342 - coa_def_renaissance_age_2_trigger
# 1437 - coa_def_discovery_age_3_trigger
# 1537 - coa_def_reformation_age_4_trigger
# 1637 - coa_def_absolutism_age_5_trigger
# 1737 - coa_def_revolutions_age_6_trigger

# Colour codes for tinctures in summary :
# A - Argent (White)
# O - Or (Yellow)
# B - Azure (Blue)
# G - Gules (Red)
# S - Sable (Black)
# V - Vert/Sinople (Green)
# P - Purple/Pourpre
# M - Brown/Maroon
# Z - Vair
# E - Ermine
# N - Orange

ENG = { # England
	# NB: all subject cantons need to be defined for this tag
	flag_definition = {
		coa = ENG
		subject_canton = ENG
		coa_with_overlord_canton = ENG_subject
		allow_overlord_canton = yes
		priority = 1
	}
	flag_definition = {
		coa = ENG_nordic
		subject_canton = ENG
		allow_overlord_canton = yes
		priority = 2
		trigger = {
			coa_def_christian_trigger = yes
			coa_def_nordic_trigger = yes
		}
	}
	flag_definition = {
		coa = ENG_monarchy
		subject_canton = ENG
		allow_overlord_canton = yes
		priority = 110
		trigger = {
			coa_def_monarchy_trigger = yes
			NOT = { has_variable = has_had_war_of_the_roses_disaster }
		}
	}
	flag_definition = {
		coa = ENG_quarterly_france
		subject_canton = ENG
		allow_overlord_canton = yes
		priority = 121
		trigger = {
			coa_def_monarchy_trigger = yes
			NOT = { has_variable = has_had_war_of_the_roses_disaster }
			NOT = { coa_def_capetian_trigger = yes }
		}
	}
	flag_definition = {
		coa = ENG_capetian
		subject_canton = ENG
		allow_overlord_canton = no
		priority = 122
		trigger = {
			coa_def_monarchy_trigger = yes
			coa_def_capetian_trigger = yes
		}
	}
	flag_definition = {
		coa = ENG_tudor
		subject_canton = ENG
		allow_overlord_canton = no
		priority = 120
		trigger = {
			coa_def_monarchy_trigger = yes
			exists = dynasty:tudor_dynasty
			OR = {
				AND = {
					has_ruler = yes
					ruler.dynasty ?= dynasty:tudor_dynasty
				}
				AND = {
					has_ruler = no
					has_heir = yes
					heir.dynasty ?= dynasty:tudor_dynasty
				}
			}
		}
	}
	flag_definition = {
		coa = ENG_yorkist
		subject_canton = ENG
		allow_overlord_canton = no
		priority = 120
		trigger = {
			coa_def_monarchy_trigger = yes
			exists = dynasty:york_dynasty
			OR = {
				AND = {
					has_ruler = yes
					ruler.dynasty ?= dynasty:york_dynasty
				}
				AND = {
					has_ruler = no
					has_heir = yes
					heir.dynasty ?= dynasty:york_dynasty
				}
			}
		}
	}
	flag_definition = {
		coa = ENG_lancastrian
		subject_canton = ENG
		allow_overlord_canton = no
		priority = 120
		trigger = {
			coa_def_monarchy_trigger = yes
			exists = dynasty:lancaster_dynasty
			OR = {
				AND = {
					has_ruler = yes
					ruler.dynasty ?= dynasty:lancaster_dynasty
				}
				AND = {
					has_ruler = no
					has_heir = yes
					heir.dynasty ?= dynasty:lancaster_dynasty
				}
			}
		}
	}
	flag_definition = {
		coa = ENG_revolutionary_republic
		subject_canton = ENG
		priority = 200
		trigger = {
			coa_def_revolutionary_republic_trigger = yes
		}
	}
}

ANJ = { # Anjou
	flag_definition = {
		coa = ANJ
		priority = 1
	}
	flag_definition = {
		coa = ANJ_three_fleurs
		priority = 2
		trigger = {
			coa_def_discovery_age_3_trigger = yes
		}
	}
	flag_definition = {
		coa = ANJ_valois
		priority = 3
		trigger = {
            OR = {
			    coa_def_valois_dynasty_trigger = yes
                coa_def_valois_anjou_dynasty_trigger = yes
            }
		}
	}
	flag_definition = {
		coa = ANJ_valois_three_fleurs
		priority = 4
		trigger = {
            OR = {
			    coa_def_valois_dynasty_trigger = yes
                coa_def_valois_anjou_dynasty_trigger = yes
            }
			coa_def_discovery_age_3_trigger = yes
		}
	}
	flag_definition = {
		coa = VLS
		priority = 10
		trigger = {
            OR = {
			    coa_def_valois_dynasty_trigger = yes
                coa_def_valois_anjou_dynasty_trigger = yes
            }
			NOT = { country_exists = c:VLS }
		}
	}
	flag_definition = {
		coa = VLS_three_fleurs
		priority = 11
		trigger = {
            OR = {
			    coa_def_valois_dynasty_trigger = yes
                coa_def_valois_anjou_dynasty_trigger = yes
            }
			coa_def_discovery_age_3_trigger = yes
			NOT = { country_exists = c:VLS }
		}
	}
}

BUR = { # Burgundy
	# BUR - Ancient : Barry OB & border G
	# BUR_Valois - Younger (15th c.) Qtly Bourgogne & Touraine

	flag_definition = {
		coa = BUR
		priority = 1
	}
	flag_definition = {
		coa = BUR_habsburg
		priority = 40
		trigger = {
			coa_def_habsburg_dynasty_trigger = yes
		}
	}
	flag_definition = {
		coa = BUR_Valois
		priority = 50
		trigger = {
            OR = {
			    coa_def_valois_dynasty_trigger = yes
                coa_def_valois_burgundy_dynasty_trigger = yes
            }
		}
	}
}